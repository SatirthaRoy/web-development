<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>head tail game</title>
</head>
<body>
  <button onclick="checMove('head')">head</button>
  <button onclick="checMove('tail')">tail</button>
  <button onclick="showResult()">show score</button>
  <button onclick="resetScore()">reset</button>

  <script>

    // 0 means head 1 means tail

    let randomNum;
    let headOrTail;

    let score = JSON.parse(localStorage.getItem('score')) || {
      win : 0,
      lose : 0
    };
    
    



    function generateRandom () {
      randomNum = Math.round(Math.random() * 10);
      randomNum < 2 || generateRandom();
    }

    function checMove (move) {
      generateRandom();
      randomNum == 0 ? headOrTail = 'head' : headOrTail = 'tail';
      if(move === headOrTail) {
        alert(`you choose = ${move}
result = ${headOrTail}
YOU WIN
        `);
        score.win++;
      }
      else {
        alert(`you choose = ${move}
result = ${headOrTail}
YOU LOSE
        `);
        score.lose++;
      }
    }

    function showResult() {
      alert(`wins = ${score.win}
loses = ${score.lose}
      `);

      save();
    }

    function resetScore (){
      score.win = 0;
      score.lose = 0;
      localStorage.removeItem('score');
      showResult();
      save();
    }

    function save() {
      localStorage.setItem('score', JSON.stringify(score));
    }

  </script>
</body>
</html>